!function(t){function e(){this.durTime=0,this.frameId=0,this.startTime=0,this.lastPercent=0,this.init()}function i(t){this.obj=t,this.startPointX=0,this.startleft=0,this.percent=0,this.init()}e.prototype={init:function(){this.getDom()},getDom:function(){this.curTime=document.querySelector(".curTime"),this.circle=document.querySelector(".circle"),this.frontBg=document.querySelector(".frontBg"),this.totalTime=document.querySelector(".totalTime")},renderAlltime:function(t){this.durTime=t,t=this.formatTime(t),this.totalTime.innerHTML=t},formatTime:function(t){t=Math.round(t);var e=Math.floor(t/60),t=t%60;return(e=e<10?"0"+e:e)+":"+(t=t<10?"0"+t:t)},move:function(t,i){var n=this;this.lastPercent=void 0===t?this.lastPercent:t,this.startTime=(new Date).getTime(),cancelAnimationFrame(this.frameId),function t(){var e=(new Date).getTime(),e=n.lastPercent+(e-n.startTime)/(1e3*n.durTime);e<=1?n.update(e,i):cancelAnimationFrame(n.frameId),n.frameId=requestAnimationFrame(t)}()},update:function(t,e){var i=this.formatTime(t*this.durTime);this.curTime.innerHTML=i,this.frontBg.style.width=100*t+"%",e||(t=t*this.circle.parentNode.offsetWidth,this.circle.style.transform="translateX("+t+"px)")},stop:function(){cancelAnimationFrame(this.frameId);var t=(new Date).getTime();this.lastPercent+=(t-this.startTime)/(1e3*this.durTime)}},i.prototype={init:function(){var e=this;this.obj.style.transform="translateX(0)",this.obj.addEventListener("touchstart",function(t){e.startPointX=t.changedTouches[0].pageX,e.startleft=parseFloat(this.style.transform.split("(")[1]),e.start&&e.start()}),this.obj.addEventListener("touchmove",function(t){e.disPointX=t.changedTouches[0].pageX-e.startPointX;t=e.startleft+e.disPointX;t<0?t=0:t>this.offsetParent.offsetWidth&&(t=this.offsetParent.offsetWidth),this.style.transform="translateX("+t+"px)",e.percent=t/this.offsetParent.offsetWidth,e.move&&e.move(e.percent)}),this.obj.addEventListener("touchend",function(t){e.end&&e.end(e.percent)})}},t.progress={pro:function(){return new e},drag:function(t){return new i(t)}}}(window.player||(window.player={}));